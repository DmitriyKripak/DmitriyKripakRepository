@model WebApplication2.Models.BooksContainer
@using WebApplication2.Models;

@if (Model != null)
{
    <div class="wrapper">
        <div class="masonry">
            @using (Html.BeginForm("Index", "Home", FormMethod.Post))
            {
                foreach (_Book book in @Model)
                {
                    <div class="items">

                        @Html.DisplayFor(modeluser => book.BookName)

                        @Html.DisplayFor(modeluser => book.Authors)

                        <h4>Total : </h4>

                        @Html.DisplayFor(modeluser => book.Total)

                        <h4>Available : </h4>

                        @Html.DisplayFor(modeluser => book.Available)

                        <img src="@Url.Content(book.LinkPhoto)" width="90" height="150"/>


                        @if (ViewBag.IsBook != -1 && ViewBag.IsBook != null)
                        {
                            <button name="selectionBook" type="submit" value=@book.Id disabled title="Недоступно...">TakeBook</button>
                            if (@book.Id == ViewBag.IsBook)
                            {
                                <button name="returnBook" type="submit" value=@book.Id title="Вернуть книгу">ReturnBook</button>
                            }
                        }
                        else
                        {
                            <button name="selectionBook" type="submit" value=@book.Id>TakeBook</button>
                        }
                    </div>
                }
            }
        </div>
    </div>
}
else
{
    <p>No data to display</p>
}
